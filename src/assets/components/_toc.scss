@use "../settings";
@use "../helpers/a11y";
@use "../helpers/colors";
@use "../helpers/links";
@use "../helpers/media-queries";
@use "../helpers/spacing";
@use "../helpers/typography";

.kimToc {
  $self: &;
  @include media-queries.kim-mq($from: galaxy) {
    position: sticky;
    @include spacing.kim-responsive-spacing($property: top, $spacing-point: 3);
  }
  &_collapsible[open] {
    #{$self}_collapsibleSummary {
      @include spacing.kim-responsive-margin(2, $direction: bottom);
      &::before {
        clip-path: polygon(50% 100%, 0 0, 100% 0);
      }
    }
  }
  &_collapsibleSummary {
    position: relative;
    cursor: pointer;
    &::before {
      @include spacing.kim-responsive-margin(2, $direction: right);
      $marker-size: 0.75rem;
      content: "";
      display: inline-block;
      width: $marker-size;
      height: $marker-size;
      background-color: colors.kim-color-css("link");
      clip-path: polygon(100% 50%, 0 0, 0 100%);
    }
    &::marker {
      content: none;
    }
    &::-webkit-details-marker {
      display: none;
    }
    &:focus-visible {
      @include a11y.kim-focus-ring;
    }
  }
  &_inner ol {
    @include spacing.kim-responsive-margin(0);
    @include spacing.kim-responsive-padding(0);
    @include typography.kim-font-size(16);
    list-style-type: none;
  }
  &_inner li {
    @include spacing.kim-responsive-margin(1, $direction: top);
    &:last-child {
      @include typography.kim-vr-margin(19);
    }
  }
  &_inner > ol > li > ol li {
    @include spacing.kim-responsive-margin(3, $direction: left);
  }
  a {
    @include links.kim-link-no-underline;
  }
  @include media-queries.kim-print {
    display: none;
  }
}
